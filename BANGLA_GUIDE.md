# ЁЯОо ржХрзЛржбржХрзЛрж▓рзНржпрж╛ржм (CodeCollab) - ржмрж╛ржВрж▓рж╛ржпрж╝ рж╕ржорзНржкрзВрж░рзНржг ржЧрж╛ржЗржб

## ЁЯМЯ ржПржЗ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯржЯрж╛ ржХрзА?

ржПржЯрж╛ ржПржХржЯрж╛ **ржХрзЛржб рж╢рзЗржЦрж╛рж░ ржПржмржВ ржПржХрж╕рж╛ржерзЗ ржХрзЛржб ржХрж░рж╛рж░** ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯ!

ржХрж▓рзНржкржирж╛ ржХрж░рзЛ рждрзБржорж┐ ржЖрж░ рждрзЛржорж╛рж░ ржмржирзНржзрзБрж░рж╛ ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж╛ рж╣рзЛржпрж╝рж╛ржЗржЯржмрзЛрж░рзНржбрзЗ ржЖржБржХржЫрзЛ - ржПржЗ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯрзЗ рждрзЛржорж░рж╛ ржПржХрж╕рж╛ржерзЗ ржХрзЛржб рж▓рж┐ржЦрждрзЗ ржкрж╛рж░ржмрзЗ! ЁЯОи

### тЬи ржкрзНрж░ржзрж╛ржи ржмрзИрж╢рж┐рж╖рзНржЯрзНржп (Key Features)

*   **рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржХрзЛржб ржПржбрж┐ржЯрж░**: ржПржХрж╛ржзрж┐ржХ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж┐ ржлрж╛ржЗрж▓рзЗ ржХрзЛржб рж▓рж┐ржЦрждрзЗ ржкрж╛рж░рзЗред
*   **ржЯрж┐ржо ржЪрзНржпрж╛ржЯ**: ржХрзЛрж▓рж╛ржмрзЛрж░рзЗрж╢ржи рж░рзБржорзЗ ржПржХрзЗ ржЕржкрж░рзЗрж░ рж╕рж╛ржерзЗ ржЪрзНржпрж╛ржЯ ржХрж░рж╛рж░ рж╕рзБржмрж┐ржзрж╛ред
*   **ржЕржирж▓рж╛ржЗржи ржХрзЛржб ржХржорзНржкрж╛ржЗрж▓рж╛рж░**: Java, Python, C++, C, ржПржмржВ JavaScript ржХрзЛржб рж╕рж░рж╛рж╕рж░рж┐ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржерзЗржХрзЗ ржЪрж╛рж▓рж╛ржирзЛ ржпрж╛рзЯред
*   **ржкрзНрж░рж╛ржЗржнрзЗржЯ рж░рзБржо**: ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб-рж╕рзБрж░ржХрзНрж╖рж┐ржд рж░рзБржо рждрзИрж░рж┐ ржХрж░рзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржорж╛ржирзБрж╖ржжрзЗрж░ рж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ рж╕рзБржмрж┐ржзрж╛ред
*   **ржкрзНрж░ржмрж▓рзЗржо ржлрзЛрж░рж╛ржо**: ржкрзНрж░рзЛржЧрзНрж░рж╛ржорж┐ржВ рж╕ржорзНржкрж░рзНржХрж┐ржд ржкрзНрж░рж╢рзНржи ржкрзЛрж╕рзНржЯ ржХрж░рж╛ ржПржмржВ ржЕржирзНржпржжрзЗрж░ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рж╛рж░ ржПржХржЯрж┐ ржХржорж┐ржЙржирж┐ржЯрж┐ ржлрзЛрж░рж╛ржоред
*   **рж▓рж╛рж░рзНржирж┐ржВ рж░рж┐рж╕рзЛрж░рзНрж╕**: OOP, DSA, ржПржмржВ Web Development-ржПрж░ ржЙржкрж░ ржмрж┐ржнрж┐ржирзНржи рж╢рж┐ржХрзНрж╖рж╛ржорзВрж▓ржХ рж░рж┐рж╕рзЛрж░рзНрж╕ред

---

## ЁЯУБ ржлрзЛрж▓рзНржбрж╛рж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░ (ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛ ржХрзЛржерж╛ржпрж╝ ржЖржЫрзЗ)

```
codecollab/
тФЬтФАтФА src/
тФВ   тФЬтФАтФА main/
тФВ   тФВ   тФЬтФАтФА java/com/codecollab/source/  тЖР ржЬрж╛ржнрж╛ ржХрзЛржб (ржмрзНржпрж╛ржХржПржирзНржб - рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржмрзНрж░рзЗржЗржи ЁЯза)
тФВ   тФВ   тФВ   тФЬтФАтФА config/                  # ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
тФВ   тФВ   тФВ   тФЬтФАтФА controller/              # API ржПржирзНржбржкржпрж╝рзЗржирзНржЯ (ржЯрзНрж░рж╛ржлрж┐ржХ ржкрзБрж▓рж┐рж╢)
тФВ   тФВ   тФВ   тФЬтФАтФА dto/                     # ржбрзЗржЯрж╛ ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░ ржЕржмржЬрзЗржХрзНржЯ
тФВ   тФВ   тФВ   тФЬтФАтФА entity/                  # ржбрж╛ржЯрж╛ржмрзЗрж╕ ржоржбрзЗрж▓ (ржбрзЗржЯрж╛рж░ ржЧржаржи)
тФВ   тФВ   тФВ   тФЬтФАтФА repository/              # ржбрж╛ржЯрж╛ржмрзЗрж╕ ржЕржкрж╛рж░рзЗрж╢ржи
тФВ   тФВ   тФВ   тФФтФАтФА service/                 # ржорзВрж▓ ржмрзНржпржмрж╕рж╛ржпрж╝рж┐ржХ ржпрзБржХрзНрждрж┐ (Business Logic)
тФВ   тФВ   тФФтФАтФА resources/
тФВ   тФВ       тФЬтФАтФА static/                  тЖР HTML, CSS, JS (ржлрзНрж░ржирзНржЯржПржирзНржб - ржпрж╛ рждрзБржорж┐ ржжрзЗржЦрзЛ ЁЯСА)
тФВ   тФВ       тФФтФАтФА application.properties   # ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╕рзЗржЯрж┐ржВрж╕
тФФтФАтФА pom.xml                             тЖР ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ рж░рзЗрж╕рж┐ржкрж┐ ржмржЗ ЁЯУЦ
```

---

## ЁЯЪА ржкрзНрж░ржержо ржзрж╛ржк: ржорзЗржЗржи ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржлрж╛ржЗрж▓

### `CollaborateApplication.java` - ржЕрзНржпрж╛ржкрзЗрж░ рж╣рж╛рж░рзНржЯ тЭдя╕П

```java
// ржПржЗ рж▓рж╛ржЗржиржЯрж╛ ржмрж▓ржЫрзЗ ржПржЗ ржлрж╛ржЗрж▓ржЯрж╛ ржХрзЛржи ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржЖржЫрзЗ
// ржпрзЗржоржи рждрзЛржорж╛рж░ ржмржЗржЯрж╛ ржХрзЛржи рж╢рзЗрж▓ржлрзЗ ржЖржЫрзЗ рж╕рзЗржЯрж╛ ржмрж▓рж╛
package com.codecollab.source;

// ржПржЯрж╛ ржПржХржЯрж╛ ржЯрзБрж▓ ржирж┐ржпрж╝рзЗ ржЖрж╕ржЫрзЗ ржпрзЗржЯрж╛ ржжрж┐ржпрж╝рзЗ ржЕрзНржпрж╛ржк ржЪрж╛рж▓рзБ рж╣ржмрзЗ
// ржпрзЗржоржи ржЧрж╛ржбрж╝рж┐ ржЪрж╛рж▓рж╛рждрзЗ ржЪрж╛ржмрж┐ рж▓рж╛ржЧрзЗ, ржПржЯрж╛ рж╕рзЗржЗ ржЪрж╛ржмрж┐!
import org.springframework.boot.SpringApplication;

// ржПржЯрж╛ ржЖрж░рзЗржХржЯрж╛ ржЯрзБрж▓ - ржмрж▓ржЫрзЗ "ржПржЯрж╛ ржПржХржЯрж╛ рж╕рзНржкрзНрж░рж┐ржВ ржмрзБржЯ ржЕрзНржпрж╛ржк"
// ржпрзЗржоржи ржПржХржЯрж╛ ржмржЗржпрж╝рзЗ рж▓рзЗржЦрж╛ ржерж╛ржХрзЗ "ржПржЯрж╛ ржЧрж▓рзНржкрзЗрж░ ржмржЗ"
import org.springframework.boot.autoconfigure.SpringBootApplication;

// ржПржЗ ржЯрзНржпрж╛ржЧржЯрж╛ ржЬрж╛ржнрж╛ржХрзЗ ржмрж▓ржЫрзЗ "ржПржЯрж╛ржЗ ржорзЗржЗржи ржЕрзНржпрж╛ржк, ржПржЦрж╛ржи ржерзЗржХрзЗ рж╢рзБрж░рзБ ржХрж░рзЛ!"
// ржпрзЗржоржи ржПржХржЯрж╛ рж░рзЗрж╕рзЗ START рж▓рзЗржЦрж╛ ржерж╛ржХрзЗ
@SpringBootApplication
public class CollaborateApplication {

    // main ржорж╛ржирзЗ "рж╢рзБрж░рзБрж░ ржЬрж╛ржпрж╝ржЧрж╛"
    // ржХржорзНржкрж┐ржЙржЯрж╛рж░ ржПржЦрж╛ржи ржерзЗржХрзЗ ржХрзЛржб ржкржбрж╝рж╛ рж╢рзБрж░рзБ ржХрж░рзЗ
    // ржпрзЗржоржи ржмржЗ ржкржбрж╝рж╛ ржкрзНрж░ржержо ржкрж╛рждрж╛ ржерзЗржХрзЗ рж╢рзБрж░рзБ рж╣ржпрж╝
    public static void main(String[] args) {
        // ржПржЗ рж▓рж╛ржЗржиржЯрж╛ ржЕрзНржпрж╛ржкржЯрж╛ржХрзЗ RUN ржХрж░рзЗ - ржЪрж╛рж▓рзБ ржХрж░рзЗ!
        // ржпрзЗржоржи рждрзБржорж┐ TV-рж░ ON ржмрж╛ржЯржи ржЪрж╛ржкрзЛ
        SpringApplication.run(CollaborateApplication.class, args);
    }
}
```

---

## ЁЯФМ WebSocket ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи - рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржЪрзНржпрж╛ржЯрзЗрж░ ржЬрж╛ржжрзБ!

### `WebSocketConfig.java` - рж╕ржмрж╛ржЗржХрзЗ ржХрж╛ржирзЗржХрзНржЯ ржХрж░рж╛рж░ рж╕рзЗржЯрж┐ржВрж╕

```java
// ржлрж╛ржЗрж▓рзЗрж░ ржарж┐ржХрж╛ржирж╛ ржмрж▓ржЫрзЗ
package com.codecollab.source.config;

// ржирж┐ржЪрзЗрж░ рж▓рж╛ржЗржиржЧрзБрж▓рзЛ ржмрж┐ржнрж┐ржирзНржи ржЯрзБрж▓ ржирж┐ржпрж╝рзЗ ржЖрж╕ржЫрзЗ
// ржпрзЗржоржи рж░рж╛ржирзНржирж╛ ржХрж░рждрзЗ ржЪрж╛ржоржЪ, ржХржбрж╝рж╛ржЗ рж▓рж╛ржЧрзЗ
import org.springframework.context.annotation.Configuration;
import org.springframework.messaging.simp.config.MessageBrokerRegistry;
import org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker;
import org.springframework.web.socket.config.annotation.StompEndpointRegistry;
import org.springframework.web.socket.config.annotation.WebSocketMessageBrokerConfigurer;

// @Configuration ржорж╛ржирзЗ "ржПржЯрж╛ ржПржХржЯрж╛ рж╕рзЗржЯрж┐ржВрж╕ ржлрж╛ржЗрж▓"
// ржпрзЗржоржи рждрзЛржорж╛рж░ ржлрзЛржирзЗ Settings ржЕрзНржпрж╛ржк ржерж╛ржХрзЗ
@Configuration

// ржПржЗ ржЯрзНржпрж╛ржЧржЯрж╛ ржмрж▓ржЫрзЗ "WebSocket ржЪрж╛рж▓рзБ ржХрж░рзЛ!"
// WebSocket = ржлрзЛржи ржХрж▓рзЗрж░ ржорждрзЛ, рж╕ржмрж╕ржоржпрж╝ ржХрж╛ржирзЗржХрзНржЯрзЗржб ржерж╛ржХрзЗ
@EnableWebSocketMessageBroker
public class WebSocketConfig implements WebSocketMessageBrokerConfigurer {

    // ржПржЗ ржлрж╛ржВрж╢ржиржЯрж╛ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржирзЛрж░ рж░рж╛рж╕рзНрждрж╛ ржмрж╛ржирж╛ржпрж╝
    // ржпрзЗржоржи ржбрж╛ржХржШрж░рзЗ ржЪрж┐ржарж┐ ржпрж╛ржпрж╝ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж░рж╛рж╕рзНрждрж╛ ржжрж┐ржпрж╝рзЗ
    @Override
    public void configureMessageBroker(MessageBrokerRegistry config) {
        // "/topic" рж╣рж▓рзЛ ржпрзЗржЦрж╛ржирзЗ рж╕ржмрж╛ржЗ ржорзЗрж╕рзЗржЬ ржкрж╛ржпрж╝
        // ржпрзЗржоржи ржХрзНрж▓рж╛рж╕рзЗ ржЯрж┐ржЪрж╛рж░ ржХржерж╛ ржмрж▓рж▓рзЗ рж╕ржмрж╛ржЗ рж╢рзЛржирзЗ
        config.enableSimpleBroker("/topic");
        
        // "/app" ржжрж┐ржпрж╝рзЗ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛рждрзЗ рж╣ржмрзЗ
        // ржпрзЗржоржи ржЪрж┐ржарж┐рждрзЗ "ржкрзНрж░рзЗрж░ржХ" рж▓рзЗржЦрж╛ ржерж╛ржХрзЗ
        config.setApplicationDestinationPrefixes("/app");
    }

    // ржПржЗ ржлрж╛ржВрж╢ржиржЯрж╛ ржмрж▓ржЫрзЗ ржХрзЛржерж╛ржпрж╝ ржХрж╛ржирзЗржХрзНржЯ ржХрж░рждрзЗ рж╣ржмрзЗ
    @Override
    public void registerStompEndpoints(StompEndpointRegistry registry) {
        // "/ws" рж╣рж▓рзЛ ржжрж░ржЬрж╛ ржпрзЗржЦрж╛ржи ржжрж┐ржпрж╝рзЗ рж╕ржмрж╛ржЗ ржврзЛржХрзЗ
        // ржпрзЗржоржи рж╕рзНржХрзБрж▓рзЗрж░ ржорзЗржЗржи ржЧрзЗржЯ
        registry.addEndpoint("/ws")
                // рж╕ржм ржЬрж╛ржпрж╝ржЧрж╛ ржерзЗржХрзЗ ржЖрж╕рждрзЗ ржкрж╛рж░ржмрзЗ
                .setAllowedOriginPatterns("*")
                // ржкрзБрж░ржирзЛ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗржУ ржХрж╛ржЬ ржХрж░ржмрзЗ
                .withSockJS();
    }
}
```

---

## ЁЯСд ржЗржЙржЬрж╛рж░ (User) - ржпрж╛рж░рж╛ ржУржпрж╝рзЗржмрж╕рж╛ржЗржЯ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗ

### `User.java` - ржЗржЙржЬрж╛рж░рзЗрж░ рждржерзНржп рж░рж╛ржЦрж╛рж░ ржмрж╛ржХрзНрж╕

```java
package com.codecollab.source.entity;

// ржмрж┐ржнрж┐ржирзНржи ржЯрзБрж▓ ржирж┐ржпрж╝рзЗ ржЖрж╕ржЫрж┐
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;
import org.springframework.data.annotation.Id;
import org.springframework.data.mongodb.core.mapping.Document;
import org.springframework.data.mongodb.core.index.Indexed;
import java.time.LocalDateTime;

// @Document ржорж╛ржирзЗ ржПржЯрж╛ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ рж╕рзЗржн рж╣ржмрзЗ
// ржбрж╛ржЯрж╛ржмрзЗрж╕ = ржПржХржЯрж╛ ржмржбрж╝ ржЦрж╛рждрж╛ ржпрзЗржЦрж╛ржирзЗ рж╕ржм рждржерзНржп рж▓рзЗржЦрж╛ ржерж╛ржХрзЗ
@Document(collection = "users")

// @Data ржЯрзБрж▓ржЯрж╛ ржЕржЯрзЛржорзЗржЯрж┐ржХ ржХрж┐ржЫрзБ ржХрзЛржб рж▓рж┐ржЦрзЗ ржжрзЗржпрж╝
// ржпрзЗржоржи ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗржЯрж░ ржЕржЯрзЛ рж╣рж┐рж╕рж╛ржм ржХрж░рзЗ
@Data
@NoArgsConstructor  // ржЦрж╛рж▓рж┐ ржЗржЙржЬрж╛рж░ ржмрж╛ржирж╛рждрзЗ ржкрж╛рж░ржмрзЗ
@AllArgsConstructor // рж╕ржм рждржерзНржп ржжрж┐ржпрж╝рзЗ ржЗржЙржЬрж╛рж░ ржмрж╛ржирж╛рждрзЗ ржкрж╛рж░ржмрзЗ
public class User {
    
    // @Id ржорж╛ржирзЗ ржПржЯрж╛ ржЗржЙржЬрж╛рж░рзЗрж░ ржЗржЙржирж┐ржХ ржиржорзНржмрж░
    // ржпрзЗржоржи рждрзЛржорж╛рж░ рж░рзЛрж▓ ржиржорзНржмрж░ - рж╢рзБржзрзБ рждрзЛржорж╛рж░ржЗ!
    @Id
    private String id;
    
    // @Indexed(unique = true) ржорж╛ржирзЗ ржжрзБржЗржЬржирзЗрж░ username ржПржХ рж╣рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛
    // ржпрзЗржоржи ржжрзБржЗржЬржирзЗрж░ ржлрзЛржи ржиржорзНржмрж░ ржПржХ рж╣ржпрж╝ ржирж╛
    @Indexed(unique = true)
    private String username;    // ржЗржЙржЬрж╛рж░рзЗрж░ ржирж╛ржо (ржпрзЗржоржи: "sakib123")
    
    private String password;    // ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб - ржЧрзЛржкржи ржЪрж╛ржмрж┐ ЁЯФС
    
    private String displayName; // ржжрзЗржЦрж╛ржирзЛрж░ ржирж╛ржо (ржпрзЗржоржи: "рж╕рж╛ржХрж┐ржм")
    
    private LocalDateTime createdAt;  // ржХржмрзЗ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржЦрзБрж▓рзЗржЫрзЗ
    
    private LocalDateTime lastLogin;  // рж╢рзЗрж╖ ржХржмрзЗ рж▓ржЧржЗржи ржХрж░рзЗржЫрзЗ
    
    private String currentRoomId;     // ржПржЦржи ржХрзЛржи рж░рзБржорзЗ ржЖржЫрзЗ
    
    // ржирждрзБржи ржЗржЙржЬрж╛рж░ ржмрж╛ржирж╛ржирзЛрж░ ржирж┐ржпрж╝ржо
    // ржпрзЗржоржи ржирждрзБржи ржЫрж╛рждрзНрж░ ржнрж░рзНрждрж┐ ржХрж░рж╛рж░ ржлрж░рзНржо
    public User(String username, String password, String displayName) {
        this.username = username;
        this.password = password;
        this.displayName = displayName;
        this.createdAt = LocalDateTime.now(); // ржПржЦржиржХрж╛рж░ рж╕ржоржпрж╝ рж╕рзЗржн ржХрж░рзЛ
    }
}
```

---

## ЁЯПа рж░рзБржо (Room) - ржпрзЗржЦрж╛ржирзЗ рж╕ржмрж╛ржЗ ржПржХрж╕рж╛ржерзЗ ржХрзЛржб ржХрж░рзЗ

### `Room.java` - ржХрзЛрж▓рж╛ржм рж░рзБржорзЗрж░ рждржерзНржп

```java
package com.codecollab.source.entity;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;
import org.springframework.data.annotation.Id;
import org.springframework.data.mongodb.core.mapping.Document;
import org.springframework.data.mongodb.core.index.Indexed;
import java.time.LocalDateTime;
import java.util.ArrayList;
import java.util.List;

// ржПржЯрж╛ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ "rooms" ржирж╛ржорзЗрж░ ржЦрж╛рждрж╛ржпрж╝ ржпрж╛ржмрзЗ
@Document(collection = "rooms")
@Data
@NoArgsConstructor
@AllArgsConstructor
public class Room {
    
    @Id
    private String id;          // ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ID
    
    @Indexed(unique = true)
    private String roomId;      // рж░рзБржорзЗрж░ ржХрзЛржб (ржпрзЗржоржи: "ABC123")
                                // ржПржЯрж╛ ржмржирзНржзрзБржжрзЗрж░ ржжрж┐рж▓рзЗ рждрж╛рж░рж╛ ржЬржпрж╝рзЗржи ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ!
    
    private String password;    // рж░рзБржорзЗрж░ ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб - ржпрж╛рждрзЗ ржЕржЪрзЗржирж╛ ржХрзЗржЙ ржирж╛ ржврзЛржХрзЗ
    
    private String name;        // рж░рзБржорзЗрж░ ржирж╛ржо (ржпрзЗржоржи: "ржЖржорж╛ржжрзЗрж░ рж╕рзНржЯрж╛ржбрж┐ ржЧрзНрж░рзБржк")
    
    private String creatorId;   // ржпрзЗ рж░рзБржо ржмрж╛ржирж┐ржпрж╝рзЗржЫрзЗ рждрж╛рж░ ID
    
    private String creatorUsername; // ржпрзЗ рж░рзБржо ржмрж╛ржирж┐ржпрж╝рзЗржЫрзЗ рждрж╛рж░ ржирж╛ржо
    
    // activeUsers = ржПржЦржи ржХрж╛рж░рж╛ ржХрж╛рж░рж╛ рж░рзБржорзЗ ржЖржЫрзЗ
    // ArrayList рж╣рж▓рзЛ ржПржХржЯрж╛ рж▓рж┐рж╕рзНржЯ - ржпрзЗржоржи рж╣рж╛ржЬрж┐рж░рж╛ ржЦрж╛рждрж╛
    private List<String> activeUsers = new ArrayList<>();
    
    private String currentCode = "";        // ржПржЦржи ржПржбрж┐ржЯрж░рзЗ ржХрзА ржХрзЛржб ржЖржЫрзЗ
    
    private String currentLanguage = "javascript"; // ржХрзЛржи ржнрж╛рж╖рж╛ржпрж╝ ржХрзЛржб рж╣ржЪрзНржЫрзЗ
    
    private LocalDateTime createdAt;    // ржХржмрзЗ рж░рзБржо ржмрж╛ржирж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ
    
    private LocalDateTime lastActivity; // рж╢рзЗрж╖ ржХржмрзЗ ржХрзЗржЙ ржХрж┐ржЫрзБ ржХрж░рзЗржЫрзЗ
    
    private boolean isActive = true;    // рж░рзБржо ржПржЦржирзЛ ржЪрж╛рж▓рзБ ржЖржЫрзЗ ржХрж┐ржирж╛
    
    // ржирждрзБржи рж░рзБржо ржмрж╛ржирж╛ржирзЛрж░ ржирж┐ржпрж╝ржо
    public Room(String roomId, String password, String name, String creatorId, String creatorUsername) {
        this.roomId = roomId;
        this.password = password;
        this.name = name;
        this.creatorId = creatorId;
        this.creatorUsername = creatorUsername;
        this.createdAt = LocalDateTime.now();
        this.lastActivity = LocalDateTime.now();
        this.activeUsers = new ArrayList<>();
    }
    
    // рж░рзБржорзЗ ржирждрзБржи ржорж╛ржирзБрж╖ ржпрзЛржЧ ржХрж░рж╛рж░ ржирж┐ржпрж╝ржо
    public void addUser(String username) {
        // ржЖржЧрзЗ ржерзЗржХрзЗ ржирж╛ ржерж╛ржХрж▓рзЗржЗ ржпрзЛржЧ ржХрж░рзЛ
        // ржпрзЗржоржи рж╣рж╛ржЬрж┐рж░рж╛ржпрж╝ ржирж╛ржо ржирж╛ ржерж╛ржХрж▓рзЗ рж▓рзЗржЦрзЛ
        if (!activeUsers.contains(username)) {
            activeUsers.add(username);
        }
        this.lastActivity = LocalDateTime.now();
    }
    
    // рж░рзБржо ржерзЗржХрзЗ ржХрж╛ржЙржХрзЗ ржмрзЗрж░ ржХрж░рж╛рж░ ржирж┐ржпрж╝ржо
    public void removeUser(String username) {
        activeUsers.remove(username); // ржирж╛ржо ржорзБржЫрзЗ ржжрж╛ржУ
        this.lastActivity = LocalDateTime.now();
    }
}
```

---

## ЁЯЪж ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░ (Controllers) - API ржПржирзНржбржкржпрж╝рзЗржирзНржЯ

ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░ржЧрзБрж▓рзЛ рж╣рж▓рзЛ ржЯрзНрж░рж╛ржлрж┐ржХ ржкрзБрж▓рж┐рж╢рзЗрж░ ржорждрзЛ, ржпрж╛рж░рж╛ ржарж┐ржХ ржХрж░рзЗ ржХрзЛржи ржЕржирзБрж░рзЛржзрзЗ ржХрзА ржХрж╛ржЬ рж╣ржмрзЗред

### `AuthController.java` - рж▓ржЧржЗржи ржЖрж░ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ рж╣рзНржпрж╛ржирзНржбрж▓ ржХрж░рзЗ

```java
package com.codecollab.source.controller;

// ржмрж┐ржнрж┐ржирзНржи ржЯрзБрж▓ ржирж┐ржпрж╝рзЗ ржЖрж╕ржЫрж┐
import com.codecollab.source.dto.AuthResponse;
import com.codecollab.source.dto.LoginRequest;
import com.codecollab.source.dto.RegisterRequest;
import com.codecollab.source.service.UserService;
import lombok.RequiredArgsConstructor;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;

// @RestController ржорж╛ржирзЗ ржПржЯрж╛ API ржмрж╛ржирж╛ржпрж╝
// API = ржжрзБржЗржЯрж╛ рж╕ржлржЯржУржпрж╝рзНржпрж╛рж░рзЗрж░ ржоржзрзНржпрзЗ ржХржерж╛ ржмрж▓рж╛рж░ рж░рж╛рж╕рзНрждрж╛
// ржпрзЗржоржи рждрзБржорж┐ ржУржпрж╝рзЗржЯрж╛рж░ржХрзЗ ржЕрж░рзНржбрж╛рж░ ржжрж╛ржУ, ржУржпрж╝рзЗржЯрж╛рж░ ржХрж┐ржЪрзЗржирзЗ ржпрж╛ржпрж╝
@RestController

// @RequestMapping ржмрж▓ржЫрзЗ ржПржЗ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░рзЗрж░ ржарж┐ржХрж╛ржирж╛ ржХрзА
// "/api/auth" ржорж╛ржирзЗ рж▓ржЧржЗржи рж╕ржВржХрзНрж░рж╛ржирзНржд рж╕ржм ржПржЦрж╛ржирзЗ ржЖрж╕ржмрзЗ
@RequestMapping("/api/auth")

// ржПржЯрж╛ ржЕржЯрзЛржорзЗржЯрж┐ржХ UserService ржирж┐ржпрж╝рзЗ ржЖрж╕рзЗ
@RequiredArgsConstructor
public class AuthController {
    
    // UserService = ржпрзЗ ржЖрж╕рж▓ ржХрж╛ржЬ ржХрж░рзЗ (ржбрж╛ржЯрж╛ржмрзЗрж╕ ржЪрзЗржХ ржХрж░рж╛)
    private final UserService userService;
    
    // @PostMapping ржорж╛ржирзЗ ржпржЦржи ржХрзЗржЙ ржбрж╛ржЯрж╛ ржкрж╛ржарж╛ржпрж╝
    // "/register" = ржирждрзБржи ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯ ржЦрзЛрж▓рж╛
    @PostMapping("/register")
    public ResponseEntity<AuthResponse> register(@RequestBody RegisterRequest request) {
        // userService ржХрзЗ ржмрж▓ржЫрзЗ "ржПржЗ ржорж╛ржирзБрж╖ржЯрж╛ржХрзЗ рж░рзЗржЬрж┐рж╕рзНржЯрж╛рж░ ржХрж░рзЛ"
        AuthResponse response = userService.register(request);
        
        // рж╕ржлрж▓ рж╣рж▓рзЗ "OK" ржмрж▓рзЛ, ржирж╛ рж╣рж▓рзЗ "Bad Request" ржмрж▓рзЛ
        if (response.isSuccess()) {
            return ResponseEntity.ok(response);
        }
        return ResponseEntity.badRequest().body(response);
    }
    
    // "/login" = ржЖржЧрзЗрж░ ржЕрзНржпрж╛ржХрж╛ржЙржирзНржЯрзЗ ржврзЛржХрж╛
    @PostMapping("/login")
    public ResponseEntity<AuthResponse> login(@RequestBody LoginRequest request) {
        // userService ржХрзЗ ржмрж▓ржЫрзЗ "ржЪрзЗржХ ржХрж░рзЛ ржПржЗ ржорж╛ржирзБрж╖ рж╕рждрзНржпрж┐ржХрж╛рж░рзЗрж░ ржХрж┐ржирж╛"
        AuthResponse response = userService.login(request);
        
        if (response.isSuccess()) {
            return ResponseEntity.ok(response);
        }
        return ResponseEntity.badRequest().body(response);
    }
}
```

### `RoomController.java` - рж░рзБржо ржмрж╛ржирж╛ржирзЛ ржЖрж░ ржЬржпрж╝рзЗржи ржХрж░рж╛

```java
package com.codecollab.source.controller;

import com.codecollab.source.dto.CreateRoomRequest;
import com.codecollab.source.dto.JoinRoomRequest;
import com.codecollab.source.dto.RoomResponse;
import com.codecollab.source.entity.Room;
import com.codecollab.source.service.RoomService;
import lombok.RequiredArgsConstructor;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import java.util.Optional;

@RestController
@RequestMapping("/api/rooms")  // рж░рзБржо рж╕ржВржХрзНрж░рж╛ржирзНржд рж╕ржм ржХрж╛ржЬрзЗрж░ ржарж┐ржХрж╛ржирж╛
@RequiredArgsConstructor
public class RoomController {
    
    private final RoomService roomService; // рж░рзБржорзЗрж░ ржЖрж╕рж▓ ржХрж╛ржЬ ржХрж░рзЗ
    
    // ржирждрзБржи рж░рзБржо ржмрж╛ржирж╛ржирзЛ - ржпрзЗржоржи ржирждрзБржи рж╣рзЛржпрж╝рж╛ржЯрж╕ржЕрзНржпрж╛ржк ржЧрзНрж░рзБржк ржЦрзЛрж▓рж╛
    @PostMapping("/create")
    public ResponseEntity<RoomResponse> createRoom(@RequestBody CreateRoomRequest request) {
        // roomService ржХрзЗ ржмрж▓ржЫрзЗ "ржПржХржЯрж╛ ржирждрзБржи рж░рзБржо ржмрж╛ржирж╛ржУ"
        RoomResponse response = roomService.createRoom(request);
        
        if (response.isSuccess()) {
            return ResponseEntity.ok(response);  // рж╕ржлрж▓!
        }
        return ResponseEntity.badRequest().body(response);  // рж╕ржорж╕рзНржпрж╛ рж╣ржпрж╝рзЗржЫрзЗ
    }
    
    // рж░рзБржорзЗ ржЬржпрж╝рзЗржи ржХрж░рж╛ - ржпрзЗржоржи ржЧрзНрж░рзБржкрзЗ ржпрзЛржЧ ржжрзЗржУржпрж╝рж╛
    @PostMapping("/join")
    public ResponseEntity<RoomResponse> joinRoom(@RequestBody JoinRoomRequest request) {
        RoomResponse response = roomService.joinRoom(request);
        
        if (response.isSuccess()) {
            return ResponseEntity.ok(response);
        }
        return ResponseEntity.badRequest().body(response);
    }
    
    // рж░рзБржо ржерзЗржХрзЗ ржмрзЗрж░ рж╣ржУржпрж╝рж╛ - ржпрзЗржоржи ржЧрзНрж░рзБржк ржЫрзЗржбрж╝рзЗ ржжрзЗржУржпрж╝рж╛
    @PostMapping("/leave")
    public ResponseEntity<RoomResponse> leaveRoom(
            @RequestParam String roomId,      // ржХрзЛржи рж░рзБржо?
            @RequestParam String username) {  // ржХрзЗ ржмрзЗрж░ рж╣ржЪрзНржЫрзЗ?
        RoomResponse response = roomService.leaveRoom(roomId, username);
        return ResponseEntity.ok(response);
    }
    
    // рж░рзБржорзЗрж░ рждржерзНржп ржжрзЗржЦрж╛
    // @GetMapping ржорж╛ржирзЗ рж╢рзБржзрзБ рждржерзНржп ржЪрж╛ржЗржЫрзЗ, ржХрж┐ржЫрзБ ржкрж╛ржарж╛ржЪрзНржЫрзЗ ржирж╛
    @GetMapping("/{roomId}")
    public ResponseEntity<RoomResponse> getRoom(@PathVariable String roomId) {
        // рж░рзБржо ржЦрзБржБржЬржЫрзЗ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ
        Optional<Room> roomOpt = roomService.getRoomById(roomId);
        
        // рж░рзБржо ржирж╛ ржкрзЗрж▓рзЗ "Not Found" ржмрж▓рзЛ
        if (roomOpt.isEmpty()) {
            return ResponseEntity.notFound().build();
        }
        
        Room room = roomOpt.get();
        // рж░рзБржорзЗрж░ рждржерзНржп ржжрж┐ржпрж╝рзЗ response ржмрж╛ржирж╛ржУ
        RoomResponse response = new RoomResponse(
            true,
            "Room found",
            room.getRoomId(),
            null,  // ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржЧрзЛржкржи рж░рж╛ржЦрзЛ!
            room.getName(),
            room.getCreatorUsername(),
            room.getActiveUsers(),
            room.getCurrentCode(),
            room.getCurrentLanguage()
        );
        
        return ResponseEntity.ok(response);
    }
}
```

### `ChatController.java` - рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржЪрзНржпрж╛ржЯ

```java
package com.codecollab.source.controller;

import com.codecollab.source.dto.ChatMessage;
import com.codecollab.source.service.MessageService;
import lombok.RequiredArgsConstructor;
import org.springframework.messaging.handler.annotation.DestinationVariable;
import org.springframework.messaging.handler.annotation.MessageMapping;
import org.springframework.messaging.handler.annotation.Payload;
import org.springframework.messaging.simp.SimpMessageHeaderAccessor;
import org.springframework.messaging.simp.SimpMessagingTemplate;
import org.springframework.stereotype.Controller;

@Controller  // ржПржЯрж╛ ржПржХржЯрж╛ ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░ - ржЯрзНрж░рж╛ржлрж┐ржХ ржкрзБрж▓рж┐рж╢рзЗрж░ ржорждрзЛ
@RequiredArgsConstructor
public class ChatController {
    
    private final MessageService messageService;       // ржорзЗрж╕рзЗржЬ рж╕рзЗржн ржХрж░рзЗ
    private final SimpMessagingTemplate messagingTemplate; // ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржпрж╝
    
    // ржпржЦржи ржХрзЗржЙ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржпрж╝
    // @MessageMapping = WebSocket ржПрж░ рж░рж╛рж╕рзНрждрж╛
    @MessageMapping("/chat.sendMessage/{roomId}")
    public void sendMessage(
            @DestinationVariable String roomId,  // ржХрзЛржи рж░рзБржорзЗ?
            @Payload ChatMessage chatMessage) {  // ржХрзА ржорзЗрж╕рзЗржЬ?
        
        chatMessage.setRoomId(roomId);
        
        // ржпржжрж┐ ржЖрж╕рж▓ ржЪрзНржпрж╛ржЯ ржорзЗрж╕рзЗржЬ рж╣ржпрж╝, рж╕рзЗржн ржХрж░рзЛ
        if (chatMessage.getType() == ChatMessage.MessageType.CHAT) {
            messageService.saveMessage(chatMessage.getSender(), chatMessage.getContent());
        }
        
        // рж╕ржмрж╛ржЗржХрзЗ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржУ - ржпрзЗржоржи ржЧрзНрж░рзБржкрзЗ ржорзЗрж╕рзЗржЬ ржжрж┐рж▓рзЗ рж╕ржмрж╛ржЗ ржжрзЗржЦрзЗ
        messagingTemplate.convertAndSend("/topic/room/" + roomId + "/chat", chatMessage);
    }
    
    // ржпржЦржи ржХрзЗржЙ рж░рзБржорзЗ ржврзЛржХрзЗ
    @MessageMapping("/chat.addUser/{roomId}")
    public void addUser(
            @DestinationVariable String roomId,
            @Payload ChatMessage chatMessage,
            SimpMessageHeaderAccessor headerAccessor) {  // ржХрж╛ржирзЗржХрж╢ржирзЗрж░ рждржерзНржп
        
        // ржоржирзЗ рж░рж╛ржЦрзЛ ржХрзЗ ржХрзЛржи рж░рзБржорзЗ
        headerAccessor.getSessionAttributes().put("username", chatMessage.getSender());
        headerAccessor.getSessionAttributes().put("roomId", roomId);
        
        chatMessage.setType(ChatMessage.MessageType.JOIN);
        chatMessage.setRoomId(roomId);
        
        // рж╕ржмрж╛ржЗржХрзЗ ржЬрж╛ржирж╛ржУ "ржЕржорзБржХ ржПрж╕рзЗржЫрзЗ!"
        messagingTemplate.convertAndSend("/topic/room/" + roomId + "/chat", chatMessage);
    }
    
    // ржпржЦржи ржХрзЗржЙ рж░рзБржо ржерзЗржХрзЗ ржмрзЗрж░ рж╣ржпрж╝
    @MessageMapping("/chat.leaveRoom/{roomId}")
    public void leaveRoom(
            @DestinationVariable String roomId,
            @Payload ChatMessage chatMessage) {
        
        chatMessage.setType(ChatMessage.MessageType.LEAVE);
        chatMessage.setRoomId(roomId);
        
        // рж╕ржмрж╛ржЗржХрзЗ ржЬрж╛ржирж╛ржУ "ржЕржорзБржХ ржЪрж▓рзЗ ржЧрзЗржЫрзЗ!"
        messagingTemplate.convertAndSend("/topic/room/" + roomId + "/chat", chatMessage);
    }
}
```

### `CodeSyncController.java` - ржПржХрж╕рж╛ржерзЗ ржХрзЛржб рж▓рзЗржЦрж╛

```java
package com.codecollab.source.controller;

import com.codecollab.source.dto.CodeSyncMessage;
import com.codecollab.source.service.RoomService;
import lombok.RequiredArgsConstructor;
import org.springframework.messaging.handler.annotation.DestinationVariable;
import org.springframework.messaging.handler.annotation.MessageMapping;
import org.springframework.messaging.handler.annotation.Payload;
import org.springframework.messaging.simp.SimpMessagingTemplate;
import org.springframework.stereotype.Controller;

@Controller
@RequiredArgsConstructor
public class CodeSyncController {
    
    private final SimpMessagingTemplate messagingTemplate; // ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржирзЛрж░ ржЯрзБрж▓
    private final RoomService roomService;  // рж░рзБржорзЗрж░ ржХрж╛ржЬ ржХрж░рзЗ
    
    // ржпржЦржи ржХрзЗржЙ ржХрзЛржб рж▓рзЗржЦрзЗ ржмрж╛ ржПржбрж┐ржЯ ржХрж░рзЗ
    // ржПржЯрж╛ рж╕рзЗржЗ ржХрзЛржб рж╕ржмрж╛рж░ рж╕рзНржХрзНрж░рж┐ржирзЗ ржкрж╛ржарж┐ржпрж╝рзЗ ржжрзЗржпрж╝!
    @MessageMapping("/code.sync/{roomId}")
    public void syncCode(
            @DestinationVariable String roomId,     // ржХрзЛржи рж░рзБржорзЗ?
            @Payload CodeSyncMessage codeSyncMessage) { // ржХрзА ржХрзЛржб?
        
        codeSyncMessage.setRoomId(roomId);
        
        // ржХрзЛржб рж╕рзЗржн ржХрж░рзЛ ржпрж╛рждрзЗ ржирждрзБржи ржХрзЗржЙ ржПрж▓рзЗ ржжрзЗржЦрждрзЗ ржкрж╛ржпрж╝
        // ржпрзЗржоржи рж╣рзЛржпрж╝рж╛ржЗржЯржмрзЛрж░рзНржбрзЗ рж▓рзЗржЦрж╛ ржерж╛ржХрзЗ
        roomService.updateRoomCode(
            roomId, 
            codeSyncMessage.getCode(), 
            codeSyncMessage.getLanguage()
        );
        
        // рж░рзБржорзЗрж░ рж╕ржмрж╛ржЗржХрзЗ ржирждрзБржи ржХрзЛржб ржкрж╛ржарж╛ржУ
        // ржпрзЗржоржи Google Docs ржП рж▓рж┐ржЦрж▓рзЗ рж╕ржмрж╛ржЗ ржжрзЗржЦрзЗ
        messagingTemplate.convertAndSend(
            "/topic/room/" + roomId + "/code", 
            codeSyncMessage
        );
    }
}
```

### ржЕржирзНржпрж╛ржирзНржп ржХржирзНржЯрзНрж░рзЛрж▓рж╛рж░

*   **`CompilerController.java`**: ржХрзЛржб ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ ржХрж░рж╛рж░ ржЬржирзНржп API ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред
*   **`ProblemController.java`**: ржкрзНрж░ржмрж▓рзЗржо ржлрзЛрж░рж╛ржорзЗрж░ ржЬржирзНржп ржкрзНрж░рж╢рзНржи рждрзИрж░рж┐ ржПржмржВ ржжрзЗржЦрж╛рж░ API ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред
*   **`ResourceController.java`**: рж▓рж╛рж░рзНржирж┐ржВ рж░рж┐рж╕рзЛрж░рзНрж╕ рждрзИрж░рж┐ ржПржмржВ ржжрзЗржЦрж╛рж░ API ржкрзНрж░ржжрж╛ржи ржХрж░рзЗред
*   **`FileController.java`**: ржЖржкрж▓рзЛржб ржХрж░рж╛ ржлрж╛ржЗрж▓ ржбрж╛ржЙржирж▓рзЛржб ржХрж░рж╛рж░ рж╕рзБржмрж┐ржзрж╛ ржжрзЗрзЯред

---

## ЁЯЫая╕П рж╕рж╛рж░рзНржнрж┐рж╕ (Services) - ржорзВрж▓ рж▓ржЬрж┐ржХ

рж╕рж╛рж░рзНржнрж┐рж╕ рж▓рзЗрзЯрж╛рж░рзЗ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐рж░ ржЖрж╕рж▓ ржХрж╛ржЬржЧрзБрж▓рзЛ ржХрж░рж╛ рж╣рзЯред

*   **`UserService.java`**: ржирждрзБржи ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА рждрзИрж░рж┐, рж▓ржЧржЗржи ржнрзЗрж░рж┐ржлрж┐ржХрзЗрж╢ржи ржЗрждрзНржпрж╛ржжрж┐ ржХрж╛ржЬ ржХрж░рзЗред
*   **`RoomService.java`**: рж░рзБржо рждрзИрж░рж┐, ржкрж╛рж╕ржУржпрж╝рж╛рж░рзНржб ржЪрзЗржХ ржХрж░рзЗ рж░рзБржорзЗ ржЬржпрж╝рзЗржи ржХрж░рж╛ржирзЛ, ржПржмржВ рж░рзБржорзЗ ржерж╛ржХрж╛ ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАржжрзЗрж░ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗред
*   **`CompilerService.java`**: ржХрзЛржб ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ ржХрж░рж╛рж░ ржЬржирзНржп Piston API (ржПржХржЯрж┐ ржЕржирж▓рж╛ржЗржи ржХрзЛржб ржПржХрзНрж╕рж┐ржХрж┐ржЙрж╢ржи ржЗржЮрзНржЬрж┐ржи) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред
*   **`MessageService.java`**: ржЪрзНржпрж╛ржЯ ржорзЗрж╕рзЗржЬ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ рж╕рзЗржн ржХрж░рзЗред
*   **`ProblemService.java`**: ржирждрзБржи ржкрзНрж░рж╢рзНржи рждрзИрж░рж┐ ржПржмржВ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржерзЗржХрзЗ ржкрзНрж░рж╢рзНржи ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЗред
*   **`ResourceService.java`**: рж╢рж┐ржХрзНрж╖рж╛ржорзВрж▓ржХ рж░рж┐рж╕рзЛрж░рзНрж╕ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗ ржПржмржВ рж╢рзБрж░рзБрждрзЗ ржХрж┐ржЫрзБ рж╕рзНржпрж╛ржорзНржкрж▓ ржбрж╛ржЯрж╛ ржжрж┐рзЯрзЗ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржкрзВрж░рзНржг ржХрж░рзЗред
*   **`FileStorageService.java`**: ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзАрж░ ржЖржкрж▓рзЛржб ржХрж░рж╛ ржлрж╛ржЗрж▓ рж╕рж╛рж░рзНржнрж╛рж░рзЗ рж╕рзЗржн ржХрж░рзЗред

---

# ЁЯОи ржлрзНрж░ржирзНржЯржПржирзНржб (ржпрж╛ рждрзБржорж┐ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржжрзЗржЦрзЛ)

## ЁЯПа рж╣рзЛржо ржкрзЗржЬ - index.html

```html
<!DOCTYPE html>
<!-- ржПржЯрж╛ ржмрж▓ржЫрзЗ ржПржЯрж╛ HTML5 ржбржХрзБржорзЗржирзНржЯ -->
<!-- HTML = ржУржпрж╝рзЗржмржкрзЗржЬ ржмрж╛ржирж╛ржирзЛрж░ ржнрж╛рж╖рж╛ -->

<html lang="en">
<!-- html ржЯрзНржпрж╛ржЧ = ржкрзБрж░рзЛ ржкрзЗржЬ ржПрж░ рж╢рзБрж░рзБ -->
<!-- lang="en" ржорж╛ржирзЗ ржЗржВрж░рзЗржЬрж┐ ржнрж╛рж╖рж╛ -->

<head>
    <!-- head = ржкрзЗржЬрзЗрж░ рждржерзНржп, ржПржЯрж╛ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржжрзЗржЦрж╛ ржпрж╛ржпрж╝ ржирж╛ -->
    
    <meta charset="UTF-8">
    <!-- charset = ржХрзЛржи ржнрж╛рж╖рж╛рж░ ржЕржХрзНрж╖рж░ ржмрзНржпржмрж╣рж╛рж░ рж╣ржмрзЗ -->
    <!-- UTF-8 ржжрж┐рж▓рзЗ ржмрж╛ржВрж▓рж╛ржУ рж▓рзЗржЦрж╛ ржпрж╛ржпрж╝! -->
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- viewport = ржорзЛржмрж╛ржЗрж▓рзЗ ржарж┐ржХржорждрзЛ ржжрзЗржЦрж╛ржмрзЗ -->
    
    <title>CodeCollab - Collaborative Learning Platform</title>
    <!-- title = ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗрж░ ржЯрзНржпрж╛ржмрзЗ ржпрзЗ ржирж╛ржо ржжрзЗржЦрж╛ ржпрж╛ржпрж╝ -->
    
    <link rel="stylesheet" href="css/styles.css">
    <!-- link = CSS ржлрж╛ржЗрж▓ ржирж┐ржпрж╝рзЗ ржЖрж╕рзЛ -->
    <!-- CSS = ржкрзЗржЬ рж╕рзБржирзНржжрж░ ржХрж░рж╛рж░ ржХрзЛржб -->
</head>

<body>
    <!-- body = ржкрзЗржЬрзЗ ржпрж╛ ржжрзЗржЦрж╛ ржпрж╛ржпрж╝ рж╕ржм ржПржЦрж╛ржирзЗ -->
    
    <!-- Navigation Bar - ржЙржкрж░рзЗрж░ ржорзЗржирзБ -->
    <nav class="navbar">
        <!-- nav = ржирзЗржнрж┐ржЧрзЗрж╢ржи/ржорзЗржирзБ -->
        <!-- class = CSS ржП рж╕рзНржЯрж╛ржЗрж▓ ржХрж░рж╛рж░ ржЬржирзНржп ржирж╛ржо -->
        
        <div class="nav-container">
            <!-- div = ржПржХржЯрж╛ ржмрж╛ржХрзНрж╕/ржХржирзНржЯрзЗржЗржирж╛рж░ -->
            
            <div class="nav-logo">
                <h2>ЁЯТ╗ CodeCollab</h2>
                <!-- h2 = ржмржбрж╝ рж╣рзЗржбрж┐ржВ (рж╢рж┐рж░рзЛржирж╛ржо) -->
            </div>
            
            <ul class="nav-menu">
                <!-- ul = ржЖржиржЕрж░рзНржбрж╛рж░рзНржб рж▓рж┐рж╕рзНржЯ (ржмрзБрж▓рзЗржЯ ржкржпрж╝рзЗржирзНржЯ) -->
                
                <li><a href="index.html" class="active">Home</a></li>
                <!-- li = рж▓рж┐рж╕рзНржЯрзЗрж░ ржПржХржЯрж╛ ржЖржЗржЯрзЗржо -->
                <!-- a = рж▓рж┐ржВржХ, ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ ржЕржирзНржп ржкрзЗржЬрзЗ ржпрж╛ржпрж╝ -->
                <!-- href = ржХрзЛржерж╛ржпрж╝ ржпрж╛ржмрзЗ -->
                
                <li><a href="resources.html">Resources</a></li>
                <li><a href="problems.html">Problem Forum</a></li>
                <li><a href="collab.html">Collab Space</a></li>
                <li><a href="login.html">Login</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section - ржкрзНрж░ржержо ржмржбрж╝ ржЕржВрж╢ -->
    <section class="hero">
        <!-- section = ржкрзЗржЬрзЗрж░ ржПржХржЯрж╛ ржЕржВрж╢ -->
        
        <div class="hero-content">
            <h1 class="hero-title">Learn, Code & Collaborate Together</h1>
            <!-- h1 = рж╕ржмржЪрзЗржпрж╝рзЗ ржмржбрж╝ рж╢рж┐рж░рзЛржирж╛ржо -->
            
            <p class="hero-subtitle">Your Ultimate Platform</p>
            <!-- p = ржкрзНржпрж╛рж░рж╛ржЧрзНрж░рж╛ржл/рж╕рж╛ржзрж╛рж░ржг ржЯрзЗржХрзНрж╕ржЯ -->
            
            <div class="hero-buttons">
                <a href="collab.html" class="btn btn-primary">ЁЯЪА Start Collaborating</a>
                <!-- btn = ржмрж╛ржЯржи рж╕рзНржЯрж╛ржЗрж▓ -->
            </div>
        </div>
    </section>

    <!-- Footer - ржирж┐ржЪрзЗрж░ ржЕржВрж╢ -->
    <footer class="footer">
        <p>┬й 2024 CodeCollab. Built with тЭдя╕П</p>
    </footer>
</body>
</html>
```

---

## ЁЯдЭ collab.js - рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржХрзЛрж▓рж╛ржмрж░рзЗрж╢ржирзЗрж░ ржЬрж╛ржжрзБ! (ржорзВрж▓ ржЕржВрж╢)

```javascript
// Collab Space JavaScript with WebSocket Integration
// ржПржЯрж╛ржЗ рж╕ржмржЪрзЗржпрж╝рзЗ ржоржЬрж╛рж░ ржЕржВрж╢ - рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржХрзЛржб рж╢рзЗржпрж╝рж╛рж░рж┐ржВ!

// рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржарж┐ржХрж╛ржирж╛ ржпрзЗржЦрж╛ржирзЗ WebSocket ржХрж╛ржирзЗржХрзНржЯ рж╣ржмрзЗ
const WS_URL = 'http://localhost:8080/ws';

// ржЧрзНрж▓рзЛржмрж╛рж▓ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ - ржкрзБрж░рзЛ ржлрж╛ржЗрж▓рзЗ ржмрзНржпржмрж╣рж╛рж░ рж╣ржмрзЗ
let stompClient = null;   // WebSocket ржХрж╛ржирзЗржХрж╢ржи
let username = null;      // ржЗржЙржЬрж╛рж░рзЗрж░ ржирж╛ржо
let roomId = null;        // рж░рзБржорзЗрж░ ID
let isTyping = false;     // ржПржЦржи ржЯрж╛ржЗржк ржХрж░ржЫрзЗ ржХрж┐ржирж╛

// ржкрзЗржЬ рж▓рзЛржб рж╣рж▓рзЗ ржПржЧрзБрж▓рзЛ рж╕рзЗржЯржЖржк ржХрж░рзЛ
document.addEventListener('DOMContentLoaded', function() {
    // DOMContentLoaded = ржкрзЗржЬ ржкрзБрж░рзЛ рж▓рзЛржб рж╣рж▓рзЗ ржПржЗ ржХрзЛржб ржЪрж▓ржмрзЗ
    
    // ржлрж░рзНржо рж╕рж╛ржмржорж┐рж╢ржи рж╕рзЗржЯржЖржк
    document.getElementById('create-room-form').addEventListener('submit', handleCreateRoom);
    document.getElementById('join-room-form').addEventListener('submit', handleJoinRoom);
    document.getElementById('message-form').addEventListener('submit', sendMessage);
    
    // ржХрзЛржб ржПржбрж┐ржЯрж░рзЗ ржЯрж╛ржЗржк ржХрж░рж▓рзЗ
    document.getElementById('code-editor').addEventListener('input', handleCodeInput);
});

// тнР WebSocket ржХрж╛ржирзЗржХрж╢ржи - ржПржЯрж╛ржЗ рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржорзЗрж░ ржЪрж╛ржмрж┐!
function connect() {
    // SockJS ржжрж┐ржпрж╝рзЗ ржХрж╛ржирзЗржХрж╢ржи ржмрж╛ржирж╛ржУ
    const socket = new SockJS(WS_URL);
    
    // STOMP ржкрзНрж░рзЛржЯрзЛржХрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ
    stompClient = Stomp.over(socket);
    
    // ржХрж╛ржирзЗржХрзНржЯ ржХрж░рзЛ!
    stompClient.connect({}, onConnected, onError);
}

// ржХрж╛ржирзЗржХрзНржЯ рж╣рж▓рзЗ ржПржЯрж╛ ржЪрж▓рзЗ
function onConnected() {
    console.log('Connected to WebSocket');
    
    // тнР рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм ржХрж░рзЛ - ржорж╛ржирзЗ ржПржЗ ржЯржкрж┐ржХрзЗрж░ ржорзЗрж╕рзЗржЬ ржкрж╛ржмрзЗ
    
    // ржЪрзНржпрж╛ржЯ ржорзЗрж╕рзЗржЬрзЗрж░ ржЬржирзНржп рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм
    stompClient.subscribe('/topic/room/' + roomId + '/chat', onMessageReceived);
    // ржПржЦржи ржПржЗ рж░рзБржорзЗ ржХрзЗржЙ ржорзЗрж╕рзЗржЬ ржжрж┐рж▓рзЗ onMessageReceived ржлрж╛ржВрж╢ржи ржЪрж▓ржмрзЗ
    
    // ржХрзЛржб ржЖржкржбрзЗржЯрзЗрж░ ржЬржирзНржп рж╕рж╛ржмрж╕рзНржХрзНрж░рж╛ржЗржм
    stompClient.subscribe('/topic/room/' + roomId + '/code', onCodeReceived);
    // ржПржЦржи ржПржЗ рж░рзБржорзЗ ржХрзЗржЙ ржХрзЛржб рж▓рж┐ржЦрж▓рзЗ onCodeReceived ржлрж╛ржВрж╢ржи ржЪрж▓ржмрзЗ
    
    // рж╕ржмрж╛ржЗржХрзЗ ржЬрж╛ржирж╛ржУ "ржЖржорж┐ ржПрж╕рзЗржЫрж┐!"
    stompClient.send('/app/chat.addUser/' + roomId, {}, JSON.stringify({
        sender: username,
        type: 'JOIN',
        roomId: roomId
    }));
}

// тнР ржХрзЛржб ржЖржкржбрзЗржЯ ржкрзЗрж▓рзЗ - ржПржЯрж╛ржЗ ржХрзЛрж▓рж╛ржмрж░рзЗрж╢ржирзЗрж░ ржорзВрж▓ ржЬрж╛ржжрзБ!
function onCodeReceived(payload) {
    const message = JSON.parse(payload.body);
    const editorEl = document.getElementById('code-editor');

    // ржирж┐ржЬрзЗрж░ ржХрзЛржб ржирж┐ржЬрзЗ ржкрзЗрж▓рзЗ ржЗржЧржирзЛрж░ ржХрж░рзЛ
    if (message.sender === username) {
        return;
    }
    
    // ржЕржирзНржп ржХрзЗржЙ ржЯрж╛ржЗржк ржХрж░рж▓рзЗ рждрж╛рж░ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржжрзЗржЦрж╛ржУ
    if (message.type === 'TYPING') {
        document.getElementById('editor-user').textContent = `${message.sender} is typing...`;
    } else if (message.type === 'UPDATE') {
        // ржХрзЛржб ржЖржкржбрзЗржЯ ржХрж░рзЛ
        if (!isTyping) {
            editorEl.value = message.code;
            document.getElementById('language-select').value = message.language;
        }
        document.getElementById('editor-user').textContent = `Last edited by: ${message.sender}`;
    }
}

// тнР ржХрзЛржб ржЖржкржбрзЗржЯ ржкрж╛ржарж╛ржирзЛ
function sendCodeSyncMessage(payload) {
    if (stompClient && stompClient.connected && roomId) {
        const message = {
            sender: username,
            roomId: roomId,
            ...payload
        };
        stompClient.send(`/app/code.sync/${roomId}`, {}, JSON.stringify(message));
    }
}

// ржХрзЛржб ржПржбрж┐ржЯрж░рзЗ ржЯрж╛ржЗржк ржХрж░рж▓рзЗ - Debouncing!
let typingTimeout = null;
function handleCodeInput() {
    isTyping = true;
    
    // ржЯрж╛ржЗржкрж┐ржВ рж╕рзНржЯрзНржпрж╛ржЯрж╛рж╕ ржкрж╛ржарж╛ржУ
    if (!typingTimeout) {
        sendCodeSyncMessage({ type: 'TYPING' });
    }

    clearTimeout(typingTimeout);
    
    // рзлрзжрзж ржорж┐рж▓рж┐рж╕рзЗржХрзЗржирзНржб ржкрж░рзЗ ржХрзЛржб ржкрж╛ржарж╛ржУ
    // ржПрждрзЗ ржкрзНрж░рждрж┐ржЯрж╛ ржХрзА-ржкрзНрж░рзЗрж╕рзЗ ржкрж╛ржарж╛ржмрзЗ ржирж╛, ржерж╛ржорж▓рзЗ ржкрж╛ржарж╛ржмрзЗ
    typingTimeout = setTimeout(() => {
        const code = document.getElementById('code-editor').value;
        const language = document.getElementById('language-select').value;
        sendCodeSyncMessage({
            type: 'UPDATE',
            code: code,
            language: language
        });
        isTyping = false;
        typingTimeout = null;
    }, 500);
}

// ржЪрзНржпрж╛ржЯ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржирзЛ
function sendMessage(event) {
    event.preventDefault();
    
    const messageInput = document.getElementById('message-input');
    const messageContent = messageInput.value.trim();
    
    if (messageContent && stompClient && stompClient.connected) {
        const chatMessage = {
            sender: username,
            content: messageContent,
            type: 'CHAT',
            roomId: roomId
        };
        
        stompClient.send('/app/chat.sendMessage/' + roomId, {}, JSON.stringify(chatMessage));
        messageInput.value = '';
    }
}
```

---

# ЁЯЪА ржХрзАржнрж╛ржмрзЗ ржПржЗ ржкрзНрж░ржЬрзЗржХрзНржЯ ржЪрж╛рж▓рж╛ржмрзЗ?

## ржзрж╛ржк рзз: ржпрж╛ ржпрж╛ рж▓рж╛ржЧржмрзЗ

1.  **Java JDK 17+** - ржЬрж╛ржнрж╛ ржЗржирж╕рзНржЯрж▓ ржХрж░рзЛ
2.  **MongoDB** - ржбрж╛ржЯрж╛ржмрзЗрж╕

## ржзрж╛ржк рзи: ржкрзНрж░ржЬрзЗржХрзНржЯ ржЪрж╛рж▓рж╛ржУ

```bash
# Windows ржП:
./mvnw.cmd spring-boot:run

# Mac/Linux ржП:
./mvnw spring-boot:run
```

## ржзрж╛ржк рзй: ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржжрзЗржЦрзЛ

ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржЦрзБрж▓рзЗ ржпрж╛ржУ: **http://localhost:8080**

ЁЯОЙ ржмрзНржпрж╕! рждрзЛржорж╛рж░ CodeCollab ржЪрж╛рж▓рзБ!

---

# ЁЯФС ржорзВрж▓ ржзрж╛рж░ржгрж╛ржЧрзБрж▓рзЛ

1.  **REST API** ЁЯУб - ржлрзНрж░ржирзНржЯржПржирзНржб ржЖрж░ ржмрзНржпрж╛ржХржПржирзНржб ржПржнрж╛ржмрзЗ ржХржерж╛ ржмрж▓рзЗ
2.  **WebSocket** ЁЯФМ - рж░рж┐ржпрж╝рзЗрж▓-ржЯрж╛ржЗржо ржХржорж┐ржЙржирж┐ржХрзЗрж╢ржи
3.  **MongoDB** ЁЯЧДя╕П - ржбрж╛ржЯрж╛ржмрзЗрж╕
4.  **Debouncing** тП▒я╕П - ржерж╛ржорж▓рзЗ ржкрж╛ржарж╛ржирзЛ

---

> "ржХрзЛржбрж┐ржВ рж╢рзЗржЦрж╛ ржорж╛ржирзЗ ржирждрзБржи ржПржХржЯрж╛ ржнрж╛рж╖рж╛ рж╢рзЗржЦрж╛ - ржзрзИрж░рзНржп рж░рж╛ржЦрзЛ, ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕ ржХрж░рзЛ, ржоржЬрж╛ ржирж╛ржУ!" ЁЯЪА
